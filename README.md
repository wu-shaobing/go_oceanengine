# AIæ™ºèƒ½æŠ•æ”¾ - å·¨é‡å¼•æ“å¹¿å‘Šç®¡ç†å¹³å°

<div align="center">

![Go Version](https://img.shields.io/badge/Go-1.21+-00ADD8?style=flat&logo=go)
![React](https://img.shields.io/badge/React-18.2-61DAFB?style=flat&logo=react)
![TypeScript](https://img.shields.io/badge/TypeScript-5.5-3178C6?style=flat&logo=typescript)

**AIæ™ºèƒ½æŠ•æ”¾ - åŸºäºå·¨é‡å¼•æ“ Marketing API çš„æ™ºèƒ½å¹¿å‘Šç®¡ç†ç³»ç»Ÿ**

[åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹) â€¢ [é¡¹ç›®æ¶æ„](#é¡¹ç›®æ¶æ„) â€¢ [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)

</div>

---

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æœ¬é¡¹ç›®æ˜¯åŸºäº**å·¨é‡å¼•æ“ Marketing API Go SDK** çš„å…¨æ ˆç¤ºä¾‹åº”ç”¨ï¼Œå±•ç¤ºå¦‚ä½•æ„å»ºå®Œæ•´çš„å¹¿å‘Šç®¡ç†ç³»ç»Ÿã€‚é‡‡ç”¨å‰åç«¯åˆ†ç¦»æ¶æ„ï¼Œæä¾›ä»APIè°ƒç”¨åˆ°UIå±•ç¤ºçš„å®Œæ•´è§£å†³æ–¹æ¡ˆã€‚

### é€‚ç”¨åœºæ™¯

- âœ… å¹¿å‘ŠæŠ•æ”¾ç®¡ç†ç³»ç»Ÿå¼€å‘
- âœ… è¥é”€æ•°æ®åˆ†æå¹³å°æ­å»º
- âœ… å·¨é‡å¼•æ“APIé›†æˆå‚è€ƒ
- âœ… Go + React å…¨æ ˆé¡¹ç›®æ¨¡æ¿

---

## ğŸ”‘ åŠŸèƒ½ç‰¹æ€§

### åŒåº”ç”¨æ”¯æŒ

- ğŸ¯ **AIæ™ºèƒ½åƒå·** - å·¨é‡åƒå·ç”µå•†ç›´æ’­å¸¦è´§ (App ID: 1846842779198378)
- ğŸ“¢ **AIæ™ºèƒ½å¹¿å‘Š** - å·¨é‡å¹¿å‘ŠPcç‰ˆä¿¡æ¯æµå¹¿å‘Š (App ID: 1846842779198394)
- ğŸ” **OAuthæˆæƒ** - å®Œæ•´çš„OAuth 2.0æˆæƒæµç¨‹
- ğŸ¨ **å¯è§†åŒ–æˆæƒåŠ©æ‰‹** - ä¸€é”®å¼€å§‹æˆæƒ

### å‰ç«¯åŠŸèƒ½

- ğŸ¨ **ç°ä»£åŒ–UI** - Ant Design 5.xï¼Œæ”¯æŒæ·±è‰²/æµ…è‰²ä¸»é¢˜
- ğŸ“Š **æ•°æ®å¯è§†åŒ–** - Recharts å›¾è¡¨ï¼Œå®æ—¶æ•°æ®åˆ†æ
- ğŸ”„ **çŠ¶æ€ç®¡ç†** - Zustand + React Query
- ğŸŒ **è·¯ç”±ç®¡ç†** - React Router v7
- ğŸ“± **å“åº”å¼å¸ƒå±€** - é€‚é…æ¡Œé¢å’Œç§»åŠ¨è®¾å¤‡
- ğŸ¯ **ç±»å‹å®‰å…¨** - å®Œæ•´ TypeScript ç±»å‹å®šä¹‰
- âœ… **å•å…ƒæµ‹è¯•** - Vitest + Testing Library

### åç«¯åŠŸèƒ½

- ğŸš€ **APIä»£ç†æœåŠ¡** - CORSå¤„ç†ï¼Œè¯·æ±‚è½¬å‘
- ğŸ” **è®¤è¯ä¸­é—´ä»¶** - Access Token è‡ªåŠ¨æ³¨å…¥
- ğŸ”‘ **OAuthå›è°ƒ** - å®Œæ•´çš„æˆæƒå›è°ƒå¤„ç†
- ğŸ“ **è¯·æ±‚æ—¥å¿—** - å®Œæ•´æ—¥å¿—è®°å½•
- ğŸ”„ **é‡è¯•æœºåˆ¶** - è‡ªåŠ¨é‡è¯•å¤±è´¥è¯·æ±‚
- ğŸ›¡ï¸ **é”™è¯¯å¤„ç†** - ç»Ÿä¸€é”™è¯¯å¤„ç†
- ğŸ“¦ **SDKé›†æˆ** - å®Œæ•´APIè°ƒç”¨ç¤ºä¾‹

---

## ğŸ›  æŠ€æœ¯æ ˆ

### å‰ç«¯
- React 18.2 + TypeScript 5.5
- Vite 5.2 (æ„å»ºå·¥å…·)
- Ant Design 5.27 (UIç»„ä»¶)
- React Query 5.50 (æ•°æ®ç®¡ç†)
- Zustand 4.5 (çŠ¶æ€ç®¡ç†)
- Recharts 3.3 (å›¾è¡¨)
- Axios 1.12 (HTTPå®¢æˆ·ç«¯)
- Vitest 3.2 (æµ‹è¯•æ¡†æ¶)
- Tailwind CSS 3.4

### åç«¯
- Go 1.21+
- å·¨é‡å¼•æ“ SDK 1.1.71
- net/http æ ‡å‡†åº“

---

## ğŸ— é¡¹ç›®æ¶æ„

```
/Users/wushaobing911/Desktop/go/
â”œâ”€â”€ frontend/                          # å‰ç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/               # ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ business/            # ä¸šåŠ¡ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ layout/              # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/                  # UIç»„ä»¶
â”‚   â”‚   â”‚   â””â”€â”€ __tests__/           # æµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ pages/                   # é¡µé¢
â”‚   â”‚   â”œâ”€â”€ hooks/                   # è‡ªå®šä¹‰Hooks
â”‚   â”‚   â”œâ”€â”€ lib/api/                 # APIå®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ store/                   # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â””â”€â”€ types/                   # TSç±»å‹
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.ts
â”‚
â”œâ”€â”€ backend/                          # åç«¯é¡¹ç›®
â”‚   â”œâ”€â”€ cmd/proxy/main.go            # ä¸»ç¨‹åº
â”‚   â”œâ”€â”€ middleware/                  # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ config/                      # é…ç½®
â”‚   â”œâ”€â”€ models/                      # æ•°æ®æ¨¡å‹ (2000+ files)
â”‚   â”œâ”€â”€ api/                         # APIå®¢æˆ·ç«¯
â”‚   â””â”€â”€ go.mod
â”‚
â”œâ”€â”€ .WARP/agents/                    # 91ä¸ªAI Agent
â”œâ”€â”€ .mcp.json                        # MCPä»»åŠ¡é…ç½®
â”œâ”€â”€ .env.example
â””â”€â”€ README.md
```

### ç³»ç»Ÿæ¶æ„

```
æµè§ˆå™¨ â†’ React Frontend (5173)
           â†“
       HTTP /api/*
           â†“
    Go Proxy Server (8080)
    - CORS Handler
    - Auth Middleware
    - Log Middleware
    - Retry Mechanism
           â†“
    Marketing API SDK
           â†“
    å·¨é‡å¼•æ“ API
    (api.oceanengine.com)
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js >= 18.0
- Go >= 1.21
- å·¨é‡å¼•æ“è´¦å· ([æ³¨å†Œ](https://open.oceanengine.com/))

### 1. é€‰æ‹©åº”ç”¨é…ç½®

é¡¹ç›®æ”¯æŒä¸¤ä¸ªåº”ç”¨ï¼š

**å·¨é‡åƒå·**ï¼š
```bash
cp .env.qianchuan .env
# App ID: 1846842779198378
# æˆæƒ: http://localhost:5173/oauth-helper.html
```

**å·¨é‡å¹¿å‘Š**ï¼š
```bash
cp .env.juliangguanggao .env
# App ID: 1846842779198394
# æˆæƒ: http://localhost:5173/oauth-oceanengine.html
```

### 2. OAuth æˆæƒè·å– Token

**ä½¿ç”¨å¯è§†åŒ–æˆæƒåŠ©æ‰‹**ï¼š

åƒå·æˆæƒï¼š`http://localhost:5173/oauth-helper.html`  
å¹¿å‘Šæˆæƒï¼š`http://localhost:5173/oauth-oceanengine.html`

æˆ–è€…**æ‰‹åŠ¨æ‰“å¼€æˆæƒé“¾æ¥**ï¼š

```javascript
// åƒå·ï¼šæµè§ˆå™¨æ§åˆ¶å°è¿è¡Œ
window.open('https://qianchuan.jinritemai.com/openapi/qc/audit/oauth.html?app_id=1846842779198378&state=test&material_auth=1&rid=wce13kagvdd&redirect_uri=http://localhost:8080/callback');

// å¹¿å‘Šï¼šæµè§ˆå™¨æ§åˆ¶å°è¿è¡Œ
window.open('https://open.oceanengine.com/audit/oauth.html?app_id=1846842779198394&state=test&material_auth=1&rid=b5757qizsb5&redirect_uri=http://localhost:8080/callback');
```

æˆæƒåç¼–è¾‘ `.env` æ–‡ä»¶ï¼š
```bash
ACCESS_TOKEN=è·å–åˆ°çš„token
ADVERTISER_ID=è·å–åˆ°çš„å¹¿å‘Šä¸»ID
```

### 3. å¯åŠ¨åç«¯

```bash
cd backend
go run cmd/proxy/main.go
```

éªŒè¯ï¼š`curl http://localhost:8080/health`

### 4. å¯åŠ¨å‰ç«¯

```bash
cd frontend
npm install
npm run dev
```

### 5. è®¿é—®åº”ç”¨

æµè§ˆå™¨æ‰“å¼€: **http://localhost:5173**

---

## ğŸ’» å¼€å‘æŒ‡å—

### å‰ç«¯å¼€å‘

#### å¸¸ç”¨å‘½ä»¤
```bash
npm run dev          # å¼€å‘æœåŠ¡å™¨
npm run build        # ç”Ÿäº§æ„å»º
npm run lint         # ä»£ç æ£€æŸ¥
npm run test         # è¿è¡Œæµ‹è¯•
npm run test:ui      # æµ‹è¯•UI
```

#### æ·»åŠ æ–°é¡µé¢
```typescript
// src/pages/NewPage.tsx
export default function NewPage() {
  return <div>Content</div>
}

// App.tsx
<Route path="new-page" element={<NewPage />} />
```

#### APIè°ƒç”¨
```typescript
import { useProjects } from '@/hooks'

function ProjectList() {
  const { data, isLoading } = useProjects({ page: 1 })
  return <Table data={data?.list} loading={isLoading} />
}
```

### åç«¯å¼€å‘

#### å¸¸ç”¨å‘½ä»¤
```bash
go run cmd/proxy/main.go              # å¯åŠ¨
go test ./...                         # æµ‹è¯•
go build -o bin/proxy cmd/proxy/main.go  # æ„å»º
```

#### æ·»åŠ APIç«¯ç‚¹
```go
func (s *ProxyServer) handleNewAPI(w http.ResponseWriter, r *http.Request) {
    w.Header().Set("Content-Type", "application/json")
    json.NewEncoder(w).Encode(map[string]interface{}{
        "code": 0,
        "data": "Hello",
    })
}

// æ³¨å†Œè·¯ç”±
mux.HandleFunc("/api/new", server.corsMiddleware(server.handleNewAPI))
```

---

## ğŸ§ª æµ‹è¯•

### å‰ç«¯æµ‹è¯•
```bash
cd frontend
npm run test         # è¿è¡Œæµ‹è¯•
npm run test:coverage # è¦†ç›–ç‡æŠ¥å‘Š
```

**æµ‹è¯•çŠ¶æ€**:
- âœ… 16ä¸ªæµ‹è¯•ï¼Œ15ä¸ªé€šè¿‡
- âœ… Buttonç»„ä»¶ (5/5)
- âœ… Inputç»„ä»¶ (6/6)
- âš ï¸ Tableç»„ä»¶ (4/5)

### åç«¯æµ‹è¯•
```bash
cd backend
go test ./... -v
```

**æµ‹è¯•çŠ¶æ€**:
- âœ… configåŒ… - å…¨éƒ¨é€šè¿‡
- âœ… middlewareåŒ… - å…¨éƒ¨é€šè¿‡
- âš ï¸ toolsåŒ… - ç¼–è¯‘å¤±è´¥
- âš ï¸ examplesåŒ… - ç¼–è¯‘å¤±è´¥

---

## ğŸ“¦ éƒ¨ç½²

### å‰ç«¯æ„å»º
```bash
cd frontend
npm run build
# äº§ç‰©åœ¨ dist/ ç›®å½•
```

### åç«¯æ„å»º
```bash
cd backend
go build -o bin/proxy cmd/proxy/main.go

# äº¤å‰ç¼–è¯‘
GOOS=linux GOARCH=amd64 go build -o bin/proxy-linux cmd/proxy/main.go
```

### Dockeréƒ¨ç½²

```dockerfile
# Dockerfileç¤ºä¾‹
FROM golang:1.21-alpine AS backend
WORKDIR /app
COPY backend/ .
RUN go build -o proxy cmd/proxy/main.go

FROM node:18-alpine AS frontend
WORKDIR /app
COPY frontend/ .
RUN npm ci && npm run build

FROM alpine:latest
COPY --from=backend /app/proxy .
COPY --from=frontend /app/dist ./frontend/dist
EXPOSE 8080
CMD ["./proxy"]
```

```bash
docker build -t marketing-sdk .
docker run -p 8080:8080 --env-file .env marketing-sdk
```

---

## âš ï¸ å·²çŸ¥é—®é¢˜

### ä¸¥é‡é—®é¢˜

1. **åç«¯ç¼–è¯‘é”™è¯¯** - `tools/get_token.go` APIç­¾åä¸åŒ¹é…
2. **Examplesç¼–è¯‘å¤±è´¥** - å¤šä¸ªmainå‡½æ•°å†²çª

### è½»å¾®é—®é¢˜

3. **Tableç»„ä»¶æµ‹è¯•å¤±è´¥** - ç©ºè¡¨æ ¼æµ‹è¯•ç”¨ä¾‹
4. **Ant Design Bundleè¿‡å¤§** - 1MB (gzipå315KB)

è¯¦è§é¡¹ç›®Issueåˆ—è¡¨

---

## â“ å¸¸è§é—®é¢˜

**Q: åç«¯æç¤º "ACCESS_TOKEN not set"?**  
A: æ£€æŸ¥ `.env` æ–‡ä»¶é…ç½®æˆ–è®¾ç½®ç¯å¢ƒå˜é‡

**Q: å‰ç«¯æ— æ³•è¿æ¥åç«¯?**  
A: ç¡®è®¤åç«¯æœåŠ¡å¯åŠ¨ï¼Œè®¿é—® http://localhost:8080/health éªŒè¯

**Q: å¦‚ä½•è·å–Access Token?**  
A: å‚è€ƒ [å®˜æ–¹æ–‡æ¡£](https://open.oceanengine.com/doc/index.html?id=5)

**Q: ç”Ÿäº§ç¯å¢ƒé…ç½®?**  
A: ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼Œå¯ç”¨HTTPSï¼Œé…ç½®Nginxåå‘ä»£ç†

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

### ä»£ç è§„èŒƒ
- å‰ç«¯: éµå¾ª ESLint + Prettier
- åç«¯: éµå¾ª Go ä»£ç è§„èŒƒ (`go fmt`, `go vet`)

---

## ğŸ”— ç›¸å…³é“¾æ¥

- [å·¨é‡å¼•æ“å¼€æ”¾å¹³å°](https://open.oceanengine.com/)
- [Marketing APIæ–‡æ¡£](https://open.oceanengine.com/doc/index.html)
- [Go SDK GitHub](https://github.com/oceanengine/ad_open_sdk_go)
- [React å®˜æ–¹æ–‡æ¡£](https://react.dev/)
- [Ant Design æ–‡æ¡£](https://ant.design/)

---

<div align="center">

**â­ å¦‚æœå¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ªStarï¼**

Made with â¤ï¸

</div>
